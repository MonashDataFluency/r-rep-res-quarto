






<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2023-02-20 15:26:03 +1100">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="">
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/lesson.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/syntax.css" />
     <link rel="stylesheet" type="text/css" href="../assets/css/fonts.css" />
    
    <link rel="license" href="#license-info" />

    



    <!-- Favicons for everyone -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../assets/favicons/incubator/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/favicons/incubator/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/favicons/incubator/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/favicons/incubator/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../assets/favicons/incubator/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../assets/favicons/incubator/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../assets/favicons/incubator/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../assets/favicons/incubator/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="../assets/favicons/incubator/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="../assets/favicons/incubator/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="../assets/favicons/incubator/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="../assets/favicons/incubator/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="../assets/favicons/incubator/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="The Carpentries Incubator - Introduction to Reproducible Publications with RStudio"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="../assets/favicons/incubator/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="../assets/favicons/incubator/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="../assets/favicons/incubator/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="../assets/favicons/incubator/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="../assets/favicons/incubator/mstile-310x310.png" />


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
  <title>
  Good Practices for Managing Projects in RStudio &ndash; Introduction to Reproducible Publications with RStudio
  </title>

  </head>
  <body>
    







<div class="panel panel-default life-cycle">
  <div id="life-cycle" class="panel-body alpha">
    This lesson is in the early stages of development (Alpha version)
  </div>
</div>





    <div class="container">
      
















  
  










<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      
      <a href="../index.html" class="pull-left">
        <img class="navbar-logo" src="../assets/img/incubator-logo-blue.svg" alt="The Carpentries Incubator logo" />
      </a>
      

      
      <a class="navbar-brand" href="../index.html">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

	
        <li><a href="../CODE_OF_CONDUCT.html">Code of Conduct</a></li>

        
	
        <li><a href="../setup.html">Setup</a></li>

        
        
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Episodes <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            
            <li><a href="../01-introduction/index.html">Scientific reproducibility: What is it for?</a></li>
            
            
            <li><a href="../02-basic-rstudio/index.html">Navigating RStudio and Quarto Documents</a></li>
            
            
            <li><a href="../03-quarto-documents/index.html">Introduction to Working with Quarto documents</a></li>
            
            
            <li><a href="../04-good-project/index.html">Good Practices for Managing Projects in RStudio</a></li>
            
            
            <li><a href="../05-setup-versioning/index.html">Getting Your project set up with Version Control in RStudio</a></li>
            
            
            <li><a href="../06-writing-styling/index.html">Writing and Styling Qmd Documents</a></li>
            
            
            <li><a href="../07-plots-figures/index.html">Adding Code-Generated Plots and Figures</a></li>
            
            
            <li><a href="../08-code-chunks/index.html">Reproducible & Efficient Methods of Using Code Chunks</a></li>
            
            
            <li><a href="../09-biblio-crossref/index.html">Bibliography, Citations & Cross-Referencing</a></li>
            
            
            <li><a href="../10-github/index.html">Collaborating via Github</a></li>
            
            
            <li><a href="../11-publishing-your-project/index.html">Publishing your project</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="../aio/index.html">All in one page (Beta)</a></li>
          </ul>
        </li>
        
	

	
	
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../reference.html">Reference</a></li>
            
            
            
              <li><a href="../about/index.html">About</a></li>
            
            
            
            
              <li><a href="../discuss/index.html">Discussion</a></li>
            
            
            
            
              <li><a href="../figures/index.html">Figures</a></li>
            
            
            
            
              <li><a href="../guide/index.html">Instructor Notes</a></li>
            
            
          </ul>
        </li>
	

	
        <li><a href="../LICENSE.html">License</a></li>
	
	
	<li><a href="/edit//_episodes_rmd/04-good-project.Rmd" data-checker-ignore>Improve this page <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
	
	
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form>
    </div>
  </div>
</nav>

      


<div class="alert alert-info text-center" role="alert">
  This lesson is part of
  <a href="https://github.com/carpentries-incubator/proposals/#the-carpentries-incubator" data-checker-ignore>
    The Carpentries Incubator</a>, a place to share and use each other's
  Carpentries-style lessons. <strong>This lesson has not been reviewed by and is
  not endorsed by The Carpentries</strong>.
</div>




      

















  
  











<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="../03-quarto-documents/index.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
    <h3 class="maintitle"><a href="../">Introduction to Reproducible Publications with RStudio</a></h3>
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="../05-setup-versioning/index.html"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>

<article>
<div class="row">
  <div class="col-md-1">
  </div>
  <div class="col-md-10">
    <h1 class="maintitle">Good Practices for Managing Projects in RStudio</h1>
  </div>
  <div class="col-md-1">
  </div>
</div>












<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 30 min
      <br/>
      <strong>Exercises:</strong> 10 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>What are good research project management practices?</p>
</li>
	
	<li><p>What is an R Project file?</p>
</li>
	
	<li><p>How do you start a new or open an existing R Project?</p>
</li>
	
	<li><p>How do you use version control to keep track of your work?</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Best pratices for working on research projects involving data.</p>
</li>
	
	<li><p>The purpose of using .Rproj files.</p>
</li>
	
	<li><p>Using version control in RStudio.</p>
</li>
	
	<li><p>Starting or continuing an R project.</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<h2 id="managing-research-projects-in-r">Managing Research Projects in R</h2>
<p>Now that we’ve learned some of the basics of authoring Quarto documents, let’s take a step back and talk about research project 
management as a whole.</p>

<p>The ability to integrate code and narratives is a major advantage of the RStudio 
environment, especially considering the scientific process is naturally 
incremental, and many projects start life as random notes, some code, then a 
manuscript, and eventually everything ends up a bit mixed together. To 
complicate things further, we are often working with other collaborators, lab 
members, graduate students, faculty from the same or different institutions, 
which makes it that much more difficult to keep projects organized. When you 
throw data into the mix (sometimes huge amounts of it!), it’s integral to use 
best practices to maintain the integrity of your analysis and to be able to 
publish high quality and reproducible research. Quarto is a powerful 
tool, but it can’t be fully utilized unless your project documents, scripts and 
other files are well-organized. So let’s take a look at RStudio’s features to 
manage projects and discuss some of the best practices when working with data 
and collaborators.</p>

<h2 id="research-project-stress-points">Research Project Stress Points</h2>
<p>We often have organizational or logistical stress points in our research that 
may become breaking points, especially when it comes to working with 
collaborators, returning to a project after a hiatus, or dealing with data and 
scripts. Let’s discuss three of those common stress points:</p>

<ul>
  <li><strong>File/folder disorganization</strong>
    <ul>
      <li>You cannot find your files on your computer (or your cloud storage)</li>
      <li>Multiple versions of files with names such as “finaldraft_4.txt”</li>
      <li>Path issues when trying to run code</li>
      <li>Reviewers or colleagues cannot re-run your code/analyses</li>
    </ul>
  </li>
  <li><strong>Storage and sharing issues</strong>
    <ul>
      <li>Files are only saved to your computer and are vulnerable (or have already 
succumbed to computer/hard drive failure</li>
      <li>When working with collaborators, they (or you) don’t share the files needed</li>
      <li>Files are shared via email attachments</li>
      <li>Difficult to know if you have the latest version of documents</li>
    </ul>
  </li>
  <li><strong>Losing track of project status</strong>
    <ul>
      <li>You cannot remember where you are in a project after being away for an 
extended period (or what you worked on the previous day…no judgement)</li>
      <li>You aren’t sure what you should be working on next</li>
      <li>You have various to-do notes spread across your office or home 
(or never write them down in the first place)</li>
    </ul>
  </li>
</ul>

<blockquote class="challenge">
  <h2 id="discussion">Discussion</h2>
  <p>To what extent do these stress points affect your research projects? Are there
additional issues that you’ve encountered that slow down or derail your work 
due to issues with project management?</p>
</blockquote>

<blockquote class="challenge">
  <h2 id="discussion-antidotes">Discussion: Antidotes</h2>
  <p>What are some practices you implement to keep your project materials organized?</p>
</blockquote>

<h3 id="antidotes">Antidotes</h3>

<p>A good project layout will ultimately make your life easier:</p>
<ul>
  <li>It will help ensure the integrity of your data</li>
  <li>It makes it simpler to share your code with someone else (a lab-mate, 
collaborator, advisor, etc.)</li>
  <li>It allows you to easily upload your code with your manuscript submission</li>
  <li>It makes it easier to pick the project back up after a break.</li>
  <li>It makes your research reproducible!</li>
</ul>

<p>We’ll discuss three aspects of project management and then implement those 
practices for the remainder of this workshop in the RStudio environment.</p>

<ol>
  <li>File/Folder Organization</li>
  <li>Storage &amp; Sharing</li>
  <li>Using Version Control</li>
</ol>

<p>Then, we’ll get started on our project!</p>

<h2 id="project-filefolder-organization">Project File/Folder Organization</h2>
<h3 id="important-principles">Important principles:</h3>

<p>Although there is no “best” way to lay out a project, there are some general 
principles to adhere to that will make project management easier:</p>

<h4 id="practice-good-file-organization"><strong>Practice good file-organization</strong></h4>

<p><a href="http://swcarpentry.github.io/good-enough-practices-in-scientific-computing/">Good Enough Practices for Scientific Computing</a> gives the following recommendations for project organization:</p>
<ol>
  <li>Put each project in its own directory, which is named after the project.</li>
  <li>Put text documents associated with the project in the doc directory.</li>
  <li>Put raw data and metadata in the data directory, and files generated during cleanup and analysis in a results directory.</li>
  <li>Put source for the project’s scripts and programs in the src directory, and programs brought in from elsewhere or compiled locally in the bin directory.</li>
  <li>Name all files to reflect their content or function.</li>
  <li>Additionally, we’d recommend to include README, LICENSE, and CITATION files!</li>
</ol>

<p>For our project we’re working in today, we used the following setup for folders and files:</p>

<p><img src="../fig/04-directory-tree.png" alt="directory tree" /></p>

<blockquote class="challenge">
  <h2 id="challenge-41-take-a-few-minutes-to-look-through-the-workshop-project-files">Challenge 4.1: Take a few minutes to look through the workshop project files</h2>

  <p>Please take some time to look through the project files. Either the screenshot above, or you may browse the files on GitHub at &lt;<a href="https://github.com/carpentries-incubator/Reproducible-Publications-with-RStudio-Example/tree/quarto">https://github.com/carpentries-incubator/Reproducible-Publications-with-RStudio-Example/tree/quarto</a>&gt;. What do each of the directories (folders) contain? What is their purpose?</p>

  <p>See the solution drop-down for an explanation of each directory’s contents.</p>

  <blockquote class="solution">
    <h2 id="solution">Solution:</h2>

    <ul>
      <li><strong>code:</strong> contains the scripts that generate the plots and analysis (found in <code class="language-plaintext highlighter-rouge">output/plots</code>)
        <ul>
          <li><strong>/functions:</strong> contains custom functions written for the data pre-processing</li>
        </ul>
      </li>
      <li><strong>data:</strong> this folder contains the raw and cleaned data files
        <ul>
          <li><strong>/foodchoice_data:</strong> contains the individual data files from food choice trials</li>
        </ul>
      </li>
      <li><strong>output:</strong> contains processed/transformed data and all plots generated
        <ul>
          <li><strong>/data:</strong> contains the output data file after applying custom pre-processing function</li>
          <li><strong>/plots:</strong> contains pdfs of the plots generated from the plot scripts in the code folder</li>
        </ul>
      </li>
      <li><strong>report:</strong> all files needed for the publication of the research project, including:<br />
              - .qmd file for the paper and additional files needed for rendering the paper<br />
            - images created specifically (not through the analysis scripts) for the paper
        <ul>
          <li><strong>/output:</strong> contains the final output of the Quarto paper</li>
        </ul>
      </li>
      <li><strong>R-repro-pub.Rproj:</strong> the R project file that lives in the root directory.</li>
      <li><strong>README.md:</strong> a detailed project description with all collaborators listed.</li>
      <li><strong>CITATION.md:</strong> directions to cite the project.</li>
      <li><strong>LICENSE.md:</strong> instructions on how the project or any components can be reused.</li>
    </ul>

  </blockquote>
</blockquote>

<h4 id="practice-good-file-naming"><strong>Practice good file-naming</strong></h4>

<p>The three principles of file-naming are:</p>

<ol>
  <li>Machine-readable
    <ul>
      <li>Friendly for searching (using regular expressions/globbing)</li>
    </ul>
    <ul>
      <li>No spaces, unsupported punctuation, accented characters, or case-sensitive file names<br />
    - Friendly for computing<br />
      - Deliberate use of delimiters (i.e. for splitting file names)</li>
      <li><code class="language-plaintext highlighter-rouge">data-analyses-fig1.R</code> with <code class="language-plaintext highlighter-rouge">-</code> used consistently as a separator</li>
    </ul>
  </li>
  <li>Human-readable
    <ul>
      <li>Name contains brief description of content</li>
      <li>Borrow from clean URL practices:
        <ul>
          <li>“slug” i.e. the part of a url that is human readable</li>
        </ul>
      </li>
    </ul>
    <ul>
      <li>i.e. <code class="language-plaintext highlighter-rouge">data-analyses-fig1.R</code></li>
    </ul>
  </li>
  <li>Plays nice with default ordering
    <ul>
      <li>Use chronological or logical order:</li>
    </ul>
    <ul>
      <li><strong>chronological</strong>: filename starts with date.
        <ul>
          <li>i.e. <code class="language-plaintext highlighter-rouge">2022-01-01_data_analyses.R</code></li>
          <li>Use <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601 date standard</a></li>
        </ul>
      </li>
      <li><strong>logical</strong>: filename starts with a number or keyword/number combo.
        <ul>
          <li>i.e. <code class="language-plaintext highlighter-rouge">01_data_preprocessing.R</code> <em>see code directory</em></li>
          <li>i.e. <code class="language-plaintext highlighter-rouge">CC-101_1_data.csv</code> <em>see data directory</em></li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<p>Adapted from <a href="https://datacarpentry.org/rr-organization1/01-file-naming/index.html">https://datacarpentry.org/rr-organization1/01-file-naming/index.html</a>. For more tips on file naming, check: <a href="https://www.library.ucsb.edu/sites/default/files/dls-n01-2021-filenaming.pdf">The Dos and Don’ts of File Naming</a>.</p>

<blockquote class="challenge">
  <h2 id="challenge-42-file-name-syntax">Challenge 4.2: File name syntax</h2>

  <p>Given the filename <code class="language-plaintext highlighter-rouge">CC-101_1_data.csv</code> and <code class="language-plaintext highlighter-rouge">2022-01-01_data_analyses.R</code>, why does it make sense to use both <code class="language-plaintext highlighter-rouge">-</code> and <code class="language-plaintext highlighter-rouge">_</code> as delimiters/separators?</p>

  <blockquote class="solution">
    <h2 id="solution-1">Solution:</h2>
    <p>In <code class="language-plaintext highlighter-rouge">CC-101_1_data.csv</code>, the <code class="language-plaintext highlighter-rouge">-</code> is used as part of the keyword that is shared between a number of files. the <code class="language-plaintext highlighter-rouge">_</code> separates it from the trial number and description. If one were to split the filename on the <code class="language-plaintext highlighter-rouge">_</code>, the keyword would be maintained and the trial number would be separated out. 
In the <code class="language-plaintext highlighter-rouge">2022-01-01_data_analyses.R</code>, <code class="language-plaintext highlighter-rouge">-</code> is used for a delimiter for the date, between year month and day. <code class="language-plaintext highlighter-rouge">_</code> is used between the rest. This allows us to split on <code class="language-plaintext highlighter-rouge">_</code> which would preserve the date (separate from other file info).</p>

    <p>It’s good to strategize on the best way to name files to anticipate future uses of the information contained within the filename.</p>
  </blockquote>
</blockquote>

<h4 id="use-relative-paths"><strong>Use relative paths</strong></h4>
<p>This goes hand-in-hand with keeping your project within one “root” directory. If you use complete paths to say, read in your data to RStudio and then share your code with a collaborator, they won’t be able to run it because the complete path you used is unique to your system and they will receive an error that the file is not found. That is why one should always use relative paths to link to other files in the project, i.e. “where is my data file in relation to the script I’m reading the data into?”. The practice of using relative paths is made easier by having a logical directory set up and keeping all project files within one root project folder.</p>

<p>Assuming your R script is in a <code class="language-plaintext highlighter-rouge">code</code> directory and your data file is in a <code class="language-plaintext highlighter-rouge">data</code> directory then an example of a relative path to read your data would be:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>df &lt;- read.csv("../data/foodchoice_budgetlines.csv", encoding = "UTF-8")
</code></pre></div></div>

<p>Whereas a complete path might look like:</p>

<p>Windows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>df &lt;- read.csv("C:/Users/wilma/Desktop/project23/data/foodchoice_budgetlines.csv", encoding = "UTF-8")
</code></pre></div></div>

<p>If the example was on a Mac or Linux computer you would have <code class="language-plaintext highlighter-rouge">home</code> instead of <code class="language-plaintext highlighter-rouge">C:</code></p>

<p>In the complete path example you can see that the code is not going to be portable. If someone other than Wilma Flintstone wanted to run the r script they would have to alter the path to match their system.</p>

<blockquote class="challenge">
  <h2 id="challenge-43-relative-paths">Challenge 4.3: relative paths</h2>

  <p>What would be the relative path needed to refer to the <code class="language-plaintext highlighter-rouge">bronars.pdf</code> plot (located in the plots directory) from <code class="language-plaintext highlighter-rouge">R-repro-pub.Rproj</code> (located in the root directory). What is the inversed relative path?</p>

  <blockquote class="solution">
    <h2 id="solution-2">Solution:</h2>

    <p><code class="language-plaintext highlighter-rouge">R-repro-pub.Rproj</code> to <code class="language-plaintext highlighter-rouge">bronars.pdf</code>
“output/plot/bronars.pdf”</p>

    <p><code class="language-plaintext highlighter-rouge">bronars.pdf</code>to <code class="language-plaintext highlighter-rouge">R-repro-pub.Rproj</code>
“../..”
“..” directs back to the directory that contains the directory of the file of interest.</p>

  </blockquote>
</blockquote>

<blockquote>
  <h2 id="tip-level-up-your-relative-paths">Tip: Level up your relative paths</h2>
  <p>We just discussed how relative paths are a better practice when coding because we can guarantee our code will work on somebody else’s system. However, relative paths can still be quite confusing to deal with, especially when you have many sub-directories in your project. One way to make things a bit easier on ourselves is to make sure the part that’s <em>relative</em> to what we’re referencing is always the same. 
We can employ a package called “here” to do this. <code class="language-plaintext highlighter-rouge">Here</code> has a function which always references the root (or top-level) directory of your project (i.e. where the .rproj file lives). Conviniently, that function is called <code class="language-plaintext highlighter-rouge">here()</code>. <code class="language-plaintext highlighter-rouge">here()</code> gives us a consistent starting path when building relative paths. We’ll see how this is used later in the lesson.</p>
</blockquote>

<ul class="callout">
  <li>Read the CRAN documentation here: <a href="https://cran.r-project.org/web/packages/here/vignettes/here.html">here</a></li>
  <li><a href="http://jenrichmond.rbind.io/post/how-to-use-the-here-package/">Read more about how the <code class="language-plaintext highlighter-rouge">here</code> package can be useful for R Markdown and Quarto files specifically</a></li>
</ul>

<h4 id="treat-data-as-read-only"><strong>Treat data as read only</strong></h4>
<p>This is probably the most important goal of setting up a project. Data is typically time consuming and/or expensive to collect. Working with them interactively (e.g., in Excel or R) where they can be modified means you are never sure of where the data came from, or how it has been modified since collection. It is therefore a good idea to treat your data as “read-only”. However, in many cases your data will be “dirty”: it will need significant preprocessing to get into a format R (or any other programming language) will find useful. Storing these scripts in a separate folder, and creating a second “read-only” data folder to hold the “cleaned” data sets can prevent confusion between the two sets. You should have separate folders for each: raw data, code, and output data/analyses. You wouldn’t mix your clean laundry with your dirty laundry, right?</p>

<h4 id="treat-generated-output-as-disposable"><strong>Treat generated output as disposable</strong></h4>
<p>Anything generated by your scripts should be treated as disposable: it should all be able to be regenerated from your scripts.
There are lots of different ways to manage this output. Having an output folder with different sub-directories for each separate analysis makes it easier later. Since many analyses are exploratory and don’t end up being used in the final project, and some of the analyses get shared between projects.</p>

<h4 id="include-a-readme-file"><strong>Include a README file</strong></h4>

<p>For more information about the README file and a customizable template, check this <a href="https://www.library.ucsb.edu/sites/default/files/dls-n03-2021-readme-navy.pdf">handout</a>. Make sure to include citation and license information both for your data <a href="[https://creativecommons.org/licenses/">see creative commons license</a> and software (<a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/licensing-a-repository">see license types on Github</a>). This information will be critical for others to reuse and correctly attribute your work. You may also consider adding a separate citation and license file to your project folder.</p>

<p>Again, there are no hard and fast rules here, but remember, it is important at least to keep your raw data files separate and to make sure they don’t get overridden after you use a script to clean your data. It’s also very helpful to keep the different files generated by your analysis organized in a folder.</p>

<p>*what’s this .Rproj file? We’ll explain in a bit.</p>

<h2 id="storage-and-sharing">Storage and Sharing</h2>

<h3 id="backup-your-work">Backup your work</h3>

<p>Having a solid backup plan in case of emergencies (say your hard drive on your computer fails) is essential. The general guideline for back ups is to adhere to the <a href="https://www.uschamber.com/co/run/technology/3-2-1-backup-rule">3-2-1 principal</a> which dictates that you should have 3 copies, on 2 different media, with 1 copy offsite. Your decision on backups will be based on your own personal tolerance but we recommend at minimum to avoid only having a copy of your project on your personal, work computer or a lab computer at all costs.</p>

<p>At the very least, you should backup your project into cloud storage (either provided by your university or paid for yourself). Common cloud storage platforms include Google drive, Box, OneDrive, Dropbox, etc. Backing up a project on a local device to cloud storage allows you to meet two of the 3-2-1 criteria (2 different media and 1 offsite). If you’re working with at least one collaborator and they also keep an up-to-date copy of the project on their computer, you’re set!</p>

<h3 id="version-control-hosting-services">Version Control hosting services</h3>

<p>If your research project involves code, the best way to make sure you have your work backed up AND keep track of your code and data is to use a version control hosting service such as GitHub - though we’d recommend using version control for any large projects.</p>

<p>The main three version control hosting services are GitHub, GitLab, and BitBucket, to see a comparison of the available options, see this comparison on <a href="https://www.linkedin.com/pulse/demystifying-git-vs-github-atlassian-bitbucket-gitlab-pawan-verma?trk=read_related_article-card_title.">LinkedIn</a></p>

<p>We will proceed using GitHub because it is the most used version control platform to date.</p>

<h2 id="using-version-control">Using Version Control</h2>

<p>Ok, now let’s talk about implementing version control in your project through RStudio! But first… let’s quickly clarify the difference between Git and GitHub. We already said that GitHub is the version control hosting platform. Git is the version control system and does not <strong>have</strong> to be used with GitHub. You can use Git and then host your code on Bitbucket for example, or save to your Google drive. In fact, you can use Git on your local system only and never save it to a cloud storage platform. However, version control hosting platforms such as GitHub enhance the benefits of version control and offer incredible collaboration features. The difference between the two can be a bit confusing because they are so often used together, but the more you use them the more it will make sense. Soon enough you’ll be wondering how you even completed a code project without version control.</p>

<p>There are actually many ways to use Git, you could use it on GitHub only (though that suffers from lack of options and is a bit clunky), there is a Desktop interface, many serious programmers use it on command line. HOWEVER, RStudio has Git controls built in so we’ll use it there - all in one place!</p>

<h3 id="project-environments-in-r">Project Environments in R</h3>

<p>Environments are a rather advanced topic in programming, but we will introduce some capabilities for projects in R that increase the reproducibility of your code. Essentially, a project environment allows us to save (or take a snapshot) of our R version and dependencies - aka what packages/package versions are required to run our code without error. This can be important when you are collaborating with others and may be unsure of whether you are working with the same R and package versions. Another common issue is if you try to run very old code from a previous project - the older the code, the more likely that errors will crop up or that the code will no longer run as it used to. To take advantage of project environments we will use a package called <code class="language-plaintext highlighter-rouge">renv</code> which is the successor of <code class="language-plaintext highlighter-rouge">packrat</code> which used to be the de facto package in R for managing environments.</p>

<p>However, as noted in this <a href="https://rstudio.github.io/renv/articles/renv.html">RStudio article on renv</a>, using <code class="language-plaintext highlighter-rouge">renv</code> does not automatically make your project reproducibile, nor is it bullet-proof. Sometimes other factors come into play that may alter the results of your code despite using <code class="language-plaintext highlighter-rouge">renv</code>, such as operating systems,  compilers etc. To go one step further in assuring reproducibility, many use ‘containers’ such as Docker or Kubernetes. However, that is beyond the scope of this workshop.</p>

<p>We will see in episode 8 how one can implement project environments with <code class="language-plaintext highlighter-rouge">renv</code> to increase reproducibility with R projects.</p>

<p>Before we use Git and environments in RStudio project, we must be working in an R Project so let’s talk about how R Projects work in RStudio.</p>

<h3 id="working-in-r--quarto-projects">Working in R &amp; Quarto Projects</h3>

<h4 id="r-project">R Project</h4>

<p>One of the most powerful and useful aspects of RStudio is its project management functionality. We’ll be using an R project today to complement our Quarto document and bundle all the files needed for our paper into one self-contained, reproducible bundle. An <code class="language-plaintext highlighter-rouge">.Rproj</code> file helps keep your R scripts, data and other files together - just navigate through your file system to get to your project directory and double click on the .Rproj file. The added benefit is that the .RProj file will automatically open RStudio and start your R session in the same directory as the <code class="language-plaintext highlighter-rouge">.Rproj</code> file and remember exactly where you left off. .RProj files are powerful ways to stay organized on their own, but they also unlock the additional benefit of being able to use Git within RStudio.</p>

<h4 id="quarto-projects">Quarto Projects</h4>

<p>Perhaps, confusing but we have an additional “type” of project in the RStudio ecosystem called a Quarto project. Thankfully, we don’t necessarily have to pick between using R and Quarto projects because a Quarto project is just an R project - with some additional capabilities. That addition is enhanced project and style controls in the form of a YAML file called <code class="language-plaintext highlighter-rouge">_quarto.yml</code> . To keep things simple, if you are going to use Quarto documents, use Quarto Projects, if you aren’t, stick to an R project. And no worries, you can always add a <code class="language-plaintext highlighter-rouge">_quarto.yml</code> file if you have just an R Project which can retroactively turn your project into a Quarto project. Let’s see how to create a Quarto project in the next episode.</p>

<blockquote class="challenge">
  <h2 id="challenge-44-r-project-in-root-folder">Challenge 4.4: R Project in “root” folder</h2>
  <p><code class="language-plaintext highlighter-rouge">.Rproj</code> files must be in the root directory of your project folder/directory. What is the root directory again (look back at the relative paths intro)?</p>
</blockquote>





<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>Use best practices for file and folder organization. This includes using relative file paths as opposed to complete file paths.</p>
</li>
    
    <li><p>Make sure that all data are backed up on multiple devices and that you treat raw data as read-only.</p>
</li>
    
    <li><p>We can use Git and Github to keep track of what we’ve done in the past, and what we plan to do in the future.</p>
</li>
    
    <li><p>Rproj files are pivotal to keeping everything bundled and organized.</p>
</li>
    
  </ul>
</blockquote>

</article>


















  
  











<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="../03-quarto-documents/index.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="../05-setup-versioning/index.html"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>



      
      






<footer>
  <hr/>
  <div class="row">
    <div class="col-md-6 license" id="license-info" align="left">
	
        Licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a> 2023 by <a href="../CITATION">the authors</a>.
	
    </div>
    <div class="col-md-6 help-links" align="right">
	
	
	<a href="/edit//_episodes_rmd/04-good-project.Rmd" data-checker-ignore>Edit on GitHub</a>
	
	
	/
	<a href="/blob//CONTRIBUTING.md" data-checker-ignore>Contributing</a>
	/
	<a href="/">Source</a>
	/
	<a href="/blob//CITATION" data-checker-ignore>Cite</a>
	/
	<a href="mailto:team@carpentries.org">Contact</a>
    </div>
  </div>
  <p class="text-muted text-right">
    <small><i>Using <a href="https://github.com/carpentries/carpentries-theme/">The Carpentries theme</a> &mdash; Site last built on: 2023-02-20 15:26:03 +1100.</i></small>
  </p>
</footer>

      
    </div>
    
<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/lesson.js"></script>


<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
  _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io"]]);
  _paq.push(["setDoNotTrack", true]);
  _paq.push(["disableCookies"]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://carpentries.matomo.cloud/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src='//cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->


<script src="../assets/js/anchor.min.js"></script>
<script>
    anchors.add();
</script>

  </body>
</html>
